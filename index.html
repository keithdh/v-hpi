<!DOCTYPE html>
<html>
    <head>
        <title>Chernoff faces</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <script type="text/javascript" src="../d3.js"></script>
    </head>

    <body>
        <div id="face"></div>
        <script type="text/javascript">
        (function () {
        var width = 400,
            height = 400,
            svg = d3.select("#face")
                .append("svg:svg")
                .attr("height", height)
                .attr("width", width),
            facevar = 20,
            hairvar = -50,
            mouthvar = 5,
            nosevar = 7,
            eyehvar = 5,
            eyewvar = 8,
            line = d3.svg.line()
                .interpolate("cardinal-closed")
                .x(function(d) { return d.x; })
                .y(function(d) { return d.y; }),
            bline = d3.svg.line()
                .interpolate("basis-closed")
                .x(function(d) { return d.x; })
                .y(function(d) { return d.y; });

        var face = [{x: 150, y: 100}, {x: 200, y: 120},
                    {x: 200-facevar, y: 150}, {x: 200-facevar, y: 200},
                    {x: 100+facevar, y: 200}, {x: 100+facevar, y: 150},
                    {x: 100, y: 120}];
        svg.selectAll("path.face").data([face]).enter()
            .append("svg:path")
            .attr("class", "face")
            .attr("fill", "none")
            .attr("stroke", "#000")
            .attr("d", bline);

        var hair = [{x: 150, y: 100}, {x: 200, y: 120},
                    {x: 250, y: 85-hairvar}, {x: 200, y: 75},
                    {x: 150, y: 50}, {x: 100, y: 75},
                    {x: 50, y: 85-hairvar}, {x: 100, y: 120}];
        svg.selectAll("path.hair").data([hair]).enter()
            .append("svg:path")
            .attr("class", "hair")
            .attr("fill", "none")
            .attr("stroke", "#000")
            .attr("d", bline);

        var mouth = [{x: 150, y: 170+mouthvar},
                     {x: 190-facevar, y: 175-mouthvar},
                     {x: 150, y: 180+mouthvar},
                     {x: 110+facevar, y: 175-mouthvar}];
        svg.selectAll("path.mouth").data([mouth]).enter()
            .append("svg:path")
            .attr("class", "mouth")
            .attr("fill", "none")
            .attr("stroke", "#000")
            .attr("d", line);

        var nose = [{x: 150, y: 140}, {x: 150+nosevar, y: 160},
                    {x: 150-nosevar, y: 160}];
        svg.selectAll("path.nose").data([nose]).enter()
            .append("svg:path")
            .attr("class", "nose")
            .attr("fill", "none")
            .attr("stroke", "#000")
            .attr("d", line);

        var leye = [{x: 135, y: 130-eyehvar}, {x: 140+eyewvar, y: 130},
                    {x: 135, y: 130+eyehvar}, {x: 130-eyewvar, y: 130}];
        var reye = [{x: 165, y: 130-eyehvar}, {x: 170+eyewvar, y: 130},
                    {x: 165, y: 130+eyehvar}, {x: 160-eyewvar, y: 130}];
        svg.selectAll("path.leye").data([leye]).enter()
            .append("svg:path")
            .attr("class", "leye")
            .attr("fill", "none")
            .attr("stroke", "#000")
            .attr("d", bline);
        svg.selectAll("path.reye").data([reye]).enter()
            .append("svg:path")
            .attr("class", "reye")
            .attr("fill", "none")
            .attr("stroke", "#000")
            .attr("d", bline);
        })();
        </script>
    </body>
</html>
